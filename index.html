<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#667eea">
    <title>FONDAMENTO - R√©seau Professionnel</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        button { min-height: 44px; cursor: pointer; }
        input, textarea { font-size: 16px; }
        
        .modal-backdrop {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.8); display: flex; align-items: center;
            justify-content: center; z-index: 1000; padding: 20px;
        }
        
        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: slideIn 0.3s ease-out; }
        
        @keyframes swipeLeft { to { transform: translateX(-150%) rotate(-15deg); opacity: 0; } }
        @keyframes swipeRight { to { transform: translateX(150%) rotate(15deg); opacity: 0; } }
        .swipe-left { animation: swipeLeft 0.3s ease-out forwards; }
        .swipe-right { animation: swipeRight 0.3s ease-out forwards; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        // DONN√âES MOCK COMPL√àTES
        const mockUser = {
            id: 1,
            prenom: "Marc",
            nom: "Dubois",
            email: "marc@email.com",
            telephone: "+33 6 12 34 56 78",
            localisation: "Paris",
            secteur: "Tech",
            experience: "8 ans",
            bio: "Entrepreneur tech depuis 8 ans, pass√© par Intel et Google. J'aime aider les autres entrepreneurs.",
            reseau: {
                secteurs: ["Tech", "Finance", "Luxe"],
                entreprises: ["Intel", "Google", "Meta", "Microsoft", "Apple"],
                competences: ["D√©veloppement", "Marketing", "Finance"]
            },
            preferences: {
                typeAide: "Les deux",
                disponibilite: "Tr√®s actif"
            },
            stats: { 
                noteGlobale: 4.8, nbAvis: 47, introsReussies: 47, tempsReponse: "2h", 
                proBono: 80, besoinsPostes: 8, propositionsRecues: 23, echangesReussis: 5 
            },
            reseauPremium: [
                { nom: "Sophie M.", secteur: "Luxe", note: 5, contexte: "Contact LVMH", date: "2024-12" },
                { nom: "Thomas L.", secteur: "Finance", note: 5, contexte: "Intro investisseur", date: "2024-11" },
                { nom: "Julie R.", secteur: "Tech", note: 4, contexte: "Partenariat", date: "2024-10" }
            ],
            badges: ["Super Connector", "R√©ponse Rapide", "Premium"]
        };

        const mockBesoins = [
            { id: 1, demandeur: "Jean D.", besoin: "Je cherche un contact chez Intel pour une opportunit√© B2B dans le domaine de l'IA", 
              secteur: "Tech", note: 4.5, nbIntros: 12 },
            { id: 2, demandeur: "Sophie M.", besoin: "Je recherche un expert en finance pour m'aider √† structurer une lev√©e de fonds s√©rie A", 
              secteur: "Finance", note: 4.9, nbIntros: 34 },
            { id: 3, demandeur: "Thomas L.", besoin: "Besoin d'un contact dans l'industrie du luxe, id√©alement chez LVMH ou Kering", 
              secteur: "Luxe", note: 4.6, nbIntros: 8 }
        ];

        const mockPropositions = [
            { 
                id: 1, nom: "Marc D.", titre: "Entrepreneur Tech", note: 4.8, nbIntros: 47,
                reseau: ["Intel", "Google", "Meta"], 
                bio: "Entrepreneur tech depuis 8 ans, pass√© par Intel et Google. J'aime aider les autres entrepreneurs.", 
                badges: ["Super Connector", "R√©ponse Rapide"],
                stats: { intros: 47, tempsReponse: "2h", proBono: 80 },
                references: [
                    { auteur: "Sophie M.", note: 5, texte: "Marc a tenu parole, super contact chez Google ! Intro rapide et efficace.", 
                      contexte: "Contact Google", date: "Il y a 2 jours" },
                    { auteur: "Jean L.", note: 5, texte: "Excellent contact, tr√®s r√©actif et professionnel.", 
                      contexte: "Intro investisseur", date: "Il y a 1 semaine" }
                ]
            },
            { 
                id: 2, nom: "Sophie L.", titre: "Consultante Finance", note: 4.9, nbIntros: 34,
                reseau: ["BNP Paribas", "Soci√©t√© G√©n√©rale"], 
                bio: "Consultante en finance d'entreprise, sp√©cialis√©e dans les lev√©es de fonds.",
                badges: ["Expert Finance"],
                stats: { intros: 34, tempsReponse: "4h", proBono: 60 },
                references: [
                    { auteur: "Thomas M.", note: 5, texte: "Contact de qualit√©, introduction parfaite.", 
                      contexte: "Contact BNP", date: "Il y a 3 jours" }
                ]
            }
        ];

        // CALCUL MOBILE UNE SEULE FOIS
        const isMobile = window.innerWidth <= 768;
        
        // STYLES RESPONSIVES
        const getStyles = () => ({
            button: {
                width: '100%', 
                padding: isMobile ? '16px' : '18px',
                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                color: 'white', 
                border: 'none', 
                borderRadius: '15px',
                fontSize: isMobile ? '16px' : '18px', 
                fontWeight: '600'
            },
            buttonSuccess: {
                width: '100%', 
                padding: isMobile ? '16px' : '18px',
                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                color: 'white', 
                border: 'none', 
                borderRadius: '15px',
                fontSize: isMobile ? '16px' : '18px', 
                fontWeight: '600'
            },
            buttonOutline: {
                width: '100%', 
                padding: isMobile ? '16px' : '18px',
                background: 'white',
                color: '#667eea', 
                border: '2px solid #667eea', 
                borderRadius: '15px',
                fontSize: isMobile ? '16px' : '18px', 
                fontWeight: '600'
            },
            card: {
                background: 'rgba(255, 255, 255, 0.95)', 
                borderRadius: isMobile ? '20px' : '30px',
                padding: isMobile ? '24px 20px' : '40px',
                boxShadow: '0 20px 60px rgba(0,0,0,0.3)'
            },
            backButton: {
                padding: '12px 24px', 
                background: 'rgba(255,255,255,0.9)',
                color: '#667eea', 
                border: 'none', 
                borderRadius: '12px',
                marginBottom: '20px', 
                fontWeight: '600'
            }
        });

        const styles = getStyles();

        // COMPOSANT PRINCIPAL
        function App() {
            const [page, setPage] = useState('home');
            const [user, setUser] = useState(null);
            const [besoinText, setBesoinText] = useState('');
            const [showProps, setShowProps] = useState(false);
            const [besoinIdx, setBesoinIdx] = useState(0);
            const [selectedProp, setSelectedProp] = useState(null);
            const [showProfilModal, setShowProfilModal] = useState(false);
            const [showChat, setShowChat] = useState(false);
            const [chatMessages, setChatMessages] = useState([]);
            const [newMessage, setNewMessage] = useState('');
            const [identityRevealed, setIdentityRevealed] = useState(false);
            const [showRatingModal, setShowRatingModal] = useState(false);
            const [rating, setRating] = useState(0);
            const [ratingComment, setRatingComment] = useState('');
            const [swipeClass, setSwipeClass] = useState('');
            const [editMode, setEditMode] = useState(false);
            const [editUser, setEditUser] = useState({});

            // HOME PAGE
            if (page === 'home') {
                return (
                    <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', 
                                 justifyContent: 'center', padding: '20px' }} className="fade-in">
                        <div style={{ ...styles.card, maxWidth: '500px', width: '100%', textAlign: 'center' }}>
                            <h1 style={{ fontSize: isMobile ? '36px' : '48px',
                                       background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                       WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent',
                                       fontWeight: '800', marginBottom: '16px' }}>
                                FONDAMENTO
                            </h1>
                            <p style={{ color: '#666', fontSize: isMobile ? '16px' : '18px', 
                                       marginBottom: '40px', lineHeight: '1.6' }}>
                                Le r√©seau professionnel<br/>qui va √† l'essentiel
                            </p>
                            <button onClick={() => setPage('signup')} 
                                    style={{ ...styles.button, marginBottom: '16px' }}>
                                ‚ú® Cr√©er mon compte
                            </button>
                            <button onClick={() => { setUser(mockUser); setPage('dashboard'); }}
                                    style={styles.buttonOutline}>
                                Se connecter (D√âMO)
                            </button>
                            <div style={{ marginTop: '40px', padding: '20px', background: '#f8f9ff', 
                                        borderRadius: '15px', fontSize: '14px', lineHeight: '1.8', color: '#555' }}>
                                üéØ Matching intelligent<br/>
                                üí¨ √âchanges anonymes<br/>
                                ‚≠ê R√©putation transparente
                            </div>
                        </div>
                    </div>
                );
            }

            // SIGNUP PAGE
            if (page === 'signup') {
                return (
                    <div style={{ minHeight: '100vh', padding: '20px' }} className="fade-in">
                        <div style={{ maxWidth: '600px', margin: '0 auto' }}>
                            <button onClick={() => setPage('home')} style={styles.backButton}>
                                ‚Üê Retour
                            </button>
                            <div style={styles.card}>
                                <h2 style={{ fontSize: isMobile ? '24px' : '32px', color: '#333', 
                                           marginBottom: '16px', fontWeight: '700' }}>
                                    Cr√©er mon compte
                                </h2>
                                <p style={{ color: '#666', marginBottom: '24px', lineHeight: '1.6' }}>
                                    L'inscription compl√®te sera disponible avec le backend 
                                    (base de donn√©es + authentification).<br/><br/>
                                    Pour tester toutes les fonctionnalit√©s maintenant, 
                                    utilisez la connexion d√©mo.
                                </p>
                                <button onClick={() => { setUser(mockUser); setPage('dashboard'); }}
                                        style={styles.buttonSuccess}>
                                    Continuer en mode d√©mo
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // DASHBOARD
            if (page === 'dashboard' && user) {
                return (
                    <div style={{ minHeight: '100vh', padding: isMobile ? '16px' : '24px' }} className="fade-in">
                        <div style={{ maxWidth: '1200px', margin: '0 auto' }}>
                            <div style={{ ...styles.card, marginBottom: '20px' }}>
                                <div style={{ display: 'flex', justifyContent: 'space-between', 
                                            alignItems: 'center', marginBottom: '20px', flexWrap: 'wrap', gap: '12px' }}>
                                    <h1 style={{ fontSize: isMobile ? '24px' : '32px',
                                               background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                               WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent',
                                               fontWeight: '800' }}>
                                        FONDAMENTO
                                    </h1>
                                    <div style={{ display: 'flex', gap: '10px' }}>
                                        <button onClick={() => setPage('profil')}
                                                style={{ padding: '10px 20px', background: 'white', 
                                                       color: '#667eea', border: '2px solid #667eea',
                                                       borderRadius: '12px', fontWeight: '600' }}>
                                            üë§ Profil
                                        </button>
                                        <button onClick={() => { setUser(null); setPage('home'); }}
                                                style={{ padding: '10px 20px', background: 'white', 
                                                       color: '#667eea', border: '2px solid #667eea',
                                                       borderRadius: '12px', fontWeight: '600' }}>
                                            D√©connexion
                                        </button>
                                    </div>
                                </div>
                                <h2 style={{ fontSize: isMobile ? '20px' : '28px', color: '#333', 
                                           marginBottom: '12px', fontWeight: '700' }}>
                                    Bonjour {user.prenom} ! üëã
                                </h2>
                                <div style={{ marginBottom: '24px', display: 'flex', gap: '10px', flexWrap: 'wrap', alignItems: 'center' }}>
                                    <span style={{ background: '#fef3c7', padding: '6px 14px', 
                                                 borderRadius: '20px', fontSize: '14px', 
                                                 fontWeight: '700', color: '#92400e' }}>
                                        ‚≠ê {user.stats.noteGlobale}/5 ({user.stats.nbAvis} avis)
                                    </span>
                                    {user.badges.map(badge => (
                                        <span key={badge} style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                                  color: 'white', padding: '6px 14px', borderRadius: '20px',
                                                                  fontSize: '12px', fontWeight: '600' }}>
                                            {badge}
                                        </span>
                                    ))}
                                </div>
                                <div style={{ display: 'grid', gap: '15px', 
                                            gridTemplateColumns: isMobile ? '1fr' : 'repeat(2, 1fr)' }}>
                                    <button onClick={() => setPage('poster')} style={styles.button}>
                                        üéØ Poster un besoin
                                    </button>
                                    <button onClick={() => setPage('voir')} style={styles.buttonSuccess}>
                                        üí™ Aider quelqu'un
                                    </button>
                                </div>
                            </div>
                            
                            <div style={styles.card}>
                                <h3 style={{ fontSize: isMobile ? '20px' : '24px', marginBottom: '20px', fontWeight: '700' }}>
                                    üìä Mon activit√©
                                </h3>
                                <div style={{ display: 'grid', gap: '15px', 
                                            gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(200px, 1fr))' }}>
                                    <div style={{ background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                                               padding: '24px', borderRadius: '16px', color: 'white' }}>
                                        <div style={{ fontSize: '14px', marginBottom: '8px', opacity: 0.9 }}>Comme aidant</div>
                                        <div style={{ fontSize: '36px', fontWeight: '800', marginBottom: '8px' }}>
                                            {user.stats.introsReussies}
                                        </div>
                                        <div style={{ fontSize: '14px', opacity: 0.9 }}>intros r√©ussies</div>
                                        <div style={{ fontSize: '13px', marginTop: '12px', opacity: 0.9 }}>
                                            ‚è±Ô∏è {user.stats.tempsReponse} ‚Ä¢ ‚ù§Ô∏è {user.stats.proBono}% pro bono
                                        </div>
                                    </div>
                                    <div style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                               padding: '24px', borderRadius: '16px', color: 'white' }}>
                                        <div style={{ fontSize: '14px', marginBottom: '8px', opacity: 0.9 }}>Comme demandeur</div>
                                        <div style={{ fontSize: '36px', fontWeight: '800', marginBottom: '8px' }}>
                                            {user.stats.echangesReussis}
                                        </div>
                                        <div style={{ fontSize: '14px', opacity: 0.9 }}>√©changes r√©ussis</div>
                                        <div style={{ fontSize: '13px', marginTop: '12px', opacity: 0.9 }}>
                                            üìù {user.stats.besoinsPostes} besoins ‚Ä¢ üí¨ {user.stats.propositionsRecues} propositions
                                        </div>
                                    </div>
                                    <div style={{ background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',
                                               padding: '24px', borderRadius: '16px', color: 'white' }}>
                                        <div style={{ fontSize: '14px', marginBottom: '8px', opacity: 0.9 }}>R√©seau premium</div>
                                        <div style={{ fontSize: '36px', fontWeight: '800', marginBottom: '8px' }}>
                                            {user.reseauPremium.length}
                                        </div>
                                        <div style={{ fontSize: '14px', opacity: 0.9 }}>contacts √©tablis</div>
                                        <div style={{ fontSize: '13px', marginTop: '12px', opacity: 0.9 }}>
                                            Notifi√©s en priorit√©
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // PAGE PROFIL
            if (page === 'profil' && user) {
                const userToEdit = editMode ? editUser : user;
                
                return (
                    <div style={{ minHeight: '100vh', padding: '20px' }} className="fade-in">
                        <div style={{ maxWidth: '800px', margin: '0 auto' }}>
                            <button onClick={() => setPage('dashboard')} style={styles.backButton}>
                                ‚Üê Retour au dashboard
                            </button>
                            
                            <div style={styles.card}>
                                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', 
                                            marginBottom: '24px', flexWrap: 'wrap', gap: '12px' }}>
                                    <h2 style={{ fontSize: isMobile ? '24px' : '28px', fontWeight: '700' }}>
                                        Mon Profil
                                    </h2>
                                    {!editMode ? (
                                        <button onClick={() => { setEditMode(true); setEditUser({...user}); }}
                                                style={{ padding: '10px 20px', background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                       color: 'white', border: 'none', borderRadius: '12px', fontWeight: '600' }}>
                                            ‚úèÔ∏è Modifier
                                        </button>
                                    ) : (
                                        <div style={{ display: 'flex', gap: '10px' }}>
                                            <button onClick={() => { setEditMode(false); setEditUser({}); }}
                                                    style={{ padding: '10px 20px', background: 'white', color: '#667eea',
                                                           border: '2px solid #667eea', borderRadius: '12px', fontWeight: '600' }}>
                                                Annuler
                                            </button>
                                            <button onClick={() => { setUser(editUser); setEditMode(false); alert('‚úì Profil mis √† jour !'); }}
                                                    style={{ padding: '10px 20px', background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                                                           color: 'white', border: 'none', borderRadius: '12px', fontWeight: '600' }}>
                                                ‚úì Enregistrer
                                            </button>
                                        </div>
                                    )}
                                </div>

                                <div style={{ textAlign: 'center', marginBottom: '28px' }}>
                                    <div style={{ width: '80px', height: '80px', background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                               borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center',
                                               fontSize: '40px', margin: '0 auto 16px' }}>
                                        üë§
                                    </div>
                                    <h3 style={{ fontSize: '22px', fontWeight: '700', marginBottom: '8px' }}>
                                        {userToEdit.prenom} {userToEdit.nom}
                                    </h3>
                                    <div style={{ background: '#fef3c7', padding: '8px 16px', borderRadius: '20px',
                                               display: 'inline-block', marginBottom: '12px' }}>
                                        <span style={{ fontSize: '16px', fontWeight: '700', color: '#92400e' }}>
                                            ‚≠ê {userToEdit.stats.noteGlobale}/5
                                        </span>
                                    </div>
                                    <div style={{ display: 'flex', gap: '8px', justifyContent: 'center', flexWrap: 'wrap' }}>
                                        {userToEdit.badges.map(badge => (
                                            <span key={badge} style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                                      color: 'white', padding: '6px 14px', borderRadius: '16px',
                                                                      fontSize: '12px', fontWeight: '600' }}>
                                                {badge}
                                            </span>
                                        ))}
                                    </div>
                                </div>

                                <div style={{ marginBottom: '24px' }}>
                                    <h4 style={{ fontSize: '16px', fontWeight: '700', marginBottom: '16px' }}>
                                        Informations personnelles
                                    </h4>
                                    {['email', 'telephone', 'localisation', 'secteur', 'experience'].map(field => (
                                        <div key={field} style={{ marginBottom: '16px' }}>
                                            <label style={{ display: 'block', marginBottom: '8px', color: '#666', 
                                                          fontSize: '14px', fontWeight: '600', textTransform: 'capitalize' }}>
                                                {field === 'telephone' ? 'T√©l√©phone' : field}
                                            </label>
                                            {editMode ? (
                                                <input type="text" value={userToEdit[field]}
                                                       onChange={(e) => setEditUser({...userToEdit, [field]: e.target.value})}
                                                       style={{ width: '100%', padding: '12px', borderRadius: '10px',
                                                              border: '2px solid #e0e0e0', fontSize: '15px' }} />
                                            ) : (
                                                <div style={{ padding: '12px', background: '#f8f9ff', borderRadius: '10px',
                                                            fontSize: '15px' }}>
                                                    {userToEdit[field]}
                                                </div>
                                            )}
                                        </div>
                                    ))}
                                    
                                    <div style={{ marginBottom: '16px' }}>
                                        <label style={{ display: 'block', marginBottom: '8px', color: '#666', 
                                                      fontSize: '14px', fontWeight: '600' }}>
                                            Bio
                                        </label>
                                        {editMode ? (
                                            <textarea value={userToEdit.bio} rows="3"
                                                     onChange={(e) => setEditUser({...userToEdit, bio: e.target.value})}
                                                     style={{ width: '100%', padding: '12px', borderRadius: '10px',
                                                            border: '2px solid #e0e0e0', fontSize: '15px', fontFamily: 'inherit' }} />
                                        ) : (
                                            <div style={{ padding: '12px', background: '#f8f9ff', borderRadius: '10px',
                                                        fontSize: '15px', lineHeight: '1.6' }}>
                                                {userToEdit.bio}
                                            </div>
                                        )}
                                    </div>
                                </div>

                                <div style={{ marginBottom: '24px' }}>
                                    <h4 style={{ fontSize: '16px', fontWeight: '700', marginBottom: '12px' }}>
                                        Mon r√©seau
                                    </h4>
                                    <div style={{ marginBottom: '12px' }}>
                                        <strong style={{ fontSize: '14px', color: '#666' }}>Secteurs :</strong>
                                        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginTop: '8px' }}>
                                            {userToEdit.reseau.secteurs.map(s => (
                                                <span key={s} style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                                      color: 'white', padding: '8px 16px', borderRadius: '12px',
                                                                      fontSize: '14px', fontWeight: '500' }}>
                                                    {s}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                    <div style={{ marginBottom: '12px' }}>
                                        <strong style={{ fontSize: '14px', color: '#666' }}>Entreprises :</strong>
                                        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginTop: '8px' }}>
                                            {userToEdit.reseau.entreprises.map(e => (
                                                <span key={e} style={{ background: '#fce7f3', color: '#9f1239',
                                                                      padding: '8px 16px', borderRadius: '12px',
                                                                      fontSize: '14px', fontWeight: '500' }}>
                                                    {e}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                    <div>
                                        <strong style={{ fontSize: '14px', color: '#666' }}>Comp√©tences :</strong>
                                        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginTop: '8px' }}>
                                            {userToEdit.reseau.competences.map(c => (
                                                <span key={c} style={{ background: '#d1fae5', color: '#065f46',
                                                                      padding: '8px 16px', borderRadius: '12px',
                                                                      fontSize: '14px', fontWeight: '500' }}>
                                                    {c}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h4 style={{ fontSize: '16px', fontWeight: '700', marginBottom: '12px' }}>
                                        R√©seau Premium ({userToEdit.reseauPremium.length} contacts)
                                    </h4>
                                    <p style={{ color: '#666', fontSize: '14px', marginBottom: '16px' }}>
                                        Ces contacts √©tablis peuvent √™tre notifi√©s en priorit√© de vos nouveaux besoins
                                    </p>
                                    {userToEdit.reseauPremium.map((contact, idx) => (
                                        <div key={idx} style={{ padding: '16px', background: '#f8f9ff', borderRadius: '12px',
                                                               marginBottom: '12px', display: 'flex', justifyContent: 'space-between',
                                                               alignItems: 'center', flexWrap: 'wrap', gap: '12px' }}>
                                            <div>
                                                <div style={{ fontWeight: '600', marginBottom: '4px' }}>{contact.nom}</div>
                                                <div style={{ fontSize: '13px', color: '#666' }}>
                                                    {contact.secteur} ‚Ä¢ {contact.contexte}
                                                </div>
                                            </div>
                                            <div style={{ textAlign: 'right' }}>
                                                <div style={{ color: '#f59e0b', marginBottom: '4px' }}>
                                                    {'‚≠ê'.repeat(contact.note)}
                                                </div>
                                                <div style={{ fontSize: '12px', color: '#666' }}>{contact.date}</div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // PAGE POSTER BESOIN
            if (page === 'poster') {
                return (
                    <div style={{ minHeight: '100vh', padding: '20px' }} className="fade-in">
                        <div style={{ maxWidth: '800px', margin: '0 auto' }}>
                            <button onClick={() => { setPage('dashboard'); setShowProps(false); setBesoinText(''); }}
                                    style={styles.backButton}>
                                ‚Üê Retour au dashboard
                            </button>
                            
                            {!showProps ? (
                                <div style={styles.card}>
                                    <h2 style={{ fontSize: isMobile ? '24px' : '32px', marginBottom: '16px', fontWeight: '700' }}>
                                        üéØ Poster un besoin
                                    </h2>
                                    <p style={{ color: '#666', marginBottom: '24px', lineHeight: '1.6' }}>
                                        D√©crivez clairement votre besoin. L'algorithme trouvera les personnes 
                                        les mieux plac√©es pour vous aider.
                                    </p>
                                    <textarea
                                        value={besoinText}
                                        onChange={(e) => setBesoinText(e.target.value)}
                                        placeholder="Ex: Je cherche un contact chez Intel pour une opportunit√© B2B dans le domaine de l'IA..."
                                        rows={isMobile ? "5" : "6"}
                                        style={{ width: '100%', padding: '16px', borderRadius: '14px',
                                               border: '2px solid #e5e7eb', fontSize: '16px',
                                               fontFamily: 'inherit', marginBottom: '20px', minHeight: '120px' }}
                                    />
                                    <button onClick={() => setShowProps(true)} 
                                            disabled={!besoinText.trim()}
                                            style={{ ...styles.button, 
                                                   opacity: besoinText.trim() ? 1 : 0.5,
                                                   cursor: besoinText.trim() ? 'pointer' : 'not-allowed' }}>
                                        Publier mon besoin
                                    </button>
                                </div>
                            ) : (
                                <>
                                    <div style={{ ...styles.card, marginBottom: '20px' }}>
                                        <h2 style={{ fontSize: isMobile ? '22px' : '28px', marginBottom: '12px', fontWeight: '700' }}>
                                            ‚ú® Propositions re√ßues
                                        </h2>
                                        <p style={{ color: '#666', marginBottom: '12px', fontSize: '15px' }}>
                                            Votre besoin : <strong>{besoinText}</strong>
                                        </p>
                                        <p style={{ color: '#10b981', fontWeight: '700', fontSize: '17px' }}>
                                            {mockPropositions.length} personnes peuvent vous aider !
                                        </p>
                                    </div>
                                    {mockPropositions.map(prop => (
                                        <div key={prop.id} style={{ ...styles.card, marginBottom: '20px' }}>
                                            <div style={{ marginBottom: '16px' }}>
                                                <h3 style={{ fontSize: '20px', marginBottom: '6px', fontWeight: '700' }}>
                                                    {prop.nom}
                                                </h3>
                                                <p style={{ color: '#666', marginBottom: '12px' }}>{prop.titre}</p>
                                                <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', alignItems: 'center' }}>
                                                    <span style={{ color: '#f59e0b', fontWeight: '700' }}>
                                                        ‚≠ê {prop.note}/5
                                                    </span>
                                                    <span style={{ color: '#666', fontSize: '14px' }}>
                                                        ‚Ä¢ {prop.nbIntros} intros
                                                    </span>
                                                    {prop.badges.map(badge => (
                                                        <span key={badge} style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                                                  color: 'white', padding: '5px 12px', borderRadius: '16px',
                                                                                  fontSize: '11px', fontWeight: '600' }}>
                                                            {badge}
                                                        </span>
                                                    ))}
                                                </div>
                                            </div>
                                            <p style={{ marginBottom: '16px', lineHeight: '1.6' }}>{prop.bio}</p>
                                            <div style={{ marginBottom: '16px' }}>
                                                <strong style={{ fontSize: '14px' }}>R√©seau :</strong>
                                                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginTop: '8px' }}>
                                                    {prop.reseau.map(e => (
                                                        <span key={e} style={{ background: '#f3f4f6', padding: '8px 14px',
                                                                              borderRadius: '10px', fontSize: '13px', color: '#374151',
                                                                              fontWeight: '500' }}>
                                                            {e}
                                                        </span>
                                                    ))}
                                                </div>
                                            </div>
                                            <button onClick={() => { setSelectedProp(prop); setShowProfilModal(true); }}
                                                    style={styles.button}>
                                                üëÅÔ∏è Voir le profil complet
                                            </button>
                                        </div>
                                    ))}
                                </>
                            )}
                        </div>
                    </div>
                );
            }

            // PAGE VOIR BESOINS
            if (page === 'voir') {
                const besoin = mockBesoins[besoinIdx];
                
                const handleSwipe = (direction) => {
                    setSwipeClass(direction === 'left' ? 'swipe-left' : 'swipe-right');
                    
                    setTimeout(() => {
                        if (direction === 'right') {
                            alert('‚úÖ Proposition envoy√©e ! Le demandeur sera notifi√©.');
                        }
                        if (besoinIdx < mockBesoins.length - 1) {
                            setBesoinIdx(besoinIdx + 1);
                        } else {
                            alert('Vous avez vu tous les besoins disponibles !');
                            setPage('dashboard');
                            setBesoinIdx(0);
                        }
                        setSwipeClass('');
                    }, 300);
                };

                return (
                    <div style={{ minHeight: '100vh', padding: '20px' }} className="fade-in">
                        <div style={{ maxWidth: '600px', margin: '0 auto' }}>
                            <button onClick={() => { setPage('dashboard'); setBesoinIdx(0); }}
                                    style={styles.backButton}>
                                ‚Üê Retour au dashboard
                            </button>
                            
                            <div className={swipeClass} style={{ ...styles.card, minHeight: isMobile ? '500px' : '550px',
                                                                 display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>
                                <div>
                                    <div style={{ textAlign: 'center', marginBottom: '28px' }}>
                                        <div style={{ fontSize: isMobile ? '56px' : '72px', marginBottom: '16px' }}>üë§</div>
                                        <h3 style={{ fontSize: isMobile ? '22px' : '26px', marginBottom: '12px', fontWeight: '700' }}>
                                            {besoin.demandeur}
                                        </h3>
                                        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', 
                                                    gap: '12px', flexWrap: 'wrap' }}>
                                            <span style={{ background: '#fef3c7', padding: '8px 16px', borderRadius: '24px',
                                                         fontSize: '14px', fontWeight: '700', color: '#92400e' }}>
                                                ‚≠ê {besoin.note}/5
                                            </span>
                                            <span style={{ background: '#e0e7ff', padding: '8px 16px', borderRadius: '24px',
                                                         fontSize: '14px', fontWeight: '700', color: '#3730a3' }}>
                                                {besoin.secteur}
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <div style={{ background: 'linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%)',
                                               padding: isMobile ? '20px' : '24px', borderRadius: '16px', marginBottom: '28px',
                                               border: '1px solid rgba(102, 126, 234, 0.1)' }}>
                                        <h4 style={{ color: '#667eea', marginBottom: '12px', fontWeight: '700', fontSize: '15px' }}>
                                            Son besoin :
                                        </h4>
                                        <p style={{ fontSize: '16px', lineHeight: '1.7', fontWeight: '500' }}>
                                            {besoin.besoin}
                                        </p>
                                    </div>
                                </div>

                                <div>
                                    <div style={{ display: 'flex', gap: isMobile ? '12px' : '20px', justifyContent: 'center',
                                                marginBottom: '20px' }}>
                                        <button onClick={() => handleSwipe('left')}
                                                style={{ width: isMobile ? '70px' : '90px', height: isMobile ? '70px' : '90px',
                                                       background: 'white', border: '4px solid #ef4444', borderRadius: '50%',
                                                       fontSize: isMobile ? '28px' : '36px', boxShadow: '0 8px 20px rgba(239, 68, 68, 0.3)' }}>
                                            ‚úó
                                        </button>
                                        <button onClick={() => handleSwipe('right')}
                                                style={{ width: isMobile ? '70px' : '90px', height: isMobile ? '70px' : '90px',
                                                       background: 'white', border: '4px solid #10b981', borderRadius: '50%',
                                                       fontSize: isMobile ? '28px' : '36px', boxShadow: '0 8px 20px rgba(16, 185, 129, 0.3)' }}>
                                            ‚úì
                                        </button>
                                    </div>
                                    <p style={{ textAlign: 'center', color: '#666', fontSize: '14px', fontWeight: '600' }}>
                                        {besoinIdx + 1} / {mockBesoins.length}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // MODAL PROFIL COMPLET
            const ProfilModal = () => {
                if (!showProfilModal || !selectedProp) return null;

                return (
                    <div className="modal-backdrop" onClick={(e) => {
                        if (e.target === e.currentTarget) setShowProfilModal(false);
                    }}>
                        <div style={{ background: 'white', borderRadius: isMobile ? '20px' : '28px',
                                    maxWidth: isMobile ? '95%' : '700px', width: '100%', maxHeight: '90vh',
                                    overflow: 'auto', padding: isMobile ? '28px 20px' : '40px', position: 'relative' }}
                             onClick={(e) => e.stopPropagation()} className="fade-in">
                            <button onClick={() => setShowProfilModal(false)}
                                    style={{ position: 'absolute', top: isMobile ? '16px' : '20px', 
                                           right: isMobile ? '16px' : '20px', background: '#f3f4f6',
                                           border: 'none', width: '40px', height: '40px', borderRadius: '50%',
                                           fontSize: '20px', display: 'flex', alignItems: 'center',
                                           justifyContent: 'center', color: '#666' }}>
                                ‚úï
                            </button>

                            <div style={{ textAlign: 'center', marginBottom: '28px' }}>
                                <div style={{ width: isMobile ? '90px' : '110px', height: isMobile ? '90px' : '110px',
                                           background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                           borderRadius: '50%', display: 'flex', alignItems: 'center',
                                           justifyContent: 'center', fontSize: isMobile ? '44px' : '52px',
                                           margin: '0 auto 20px' }}>
                                    üë§
                                </div>
                                <h2 style={{ fontSize: isMobile ? '24px' : '30px', marginBottom: '8px', fontWeight: '700' }}>
                                    {selectedProp.nom}
                                </h2>
                                <p style={{ color: '#666', marginBottom: '16px', fontSize: isMobile ? '15px' : '17px' }}>
                                    {selectedProp.titre}
                                </p>
                                <div style={{ marginBottom: '16px' }}>
                                    <span style={{ color: '#f59e0b', fontWeight: '700', fontSize: isMobile ? '17px' : '19px' }}>
                                        ‚≠ê {selectedProp.note}/5
                                    </span>
                                    <span style={{ color: '#666', marginLeft: '12px' }}>
                                        ‚Ä¢ {selectedProp.nbIntros} intros
                                    </span>
                                </div>
                                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', justifyContent: 'center' }}>
                                    {selectedProp.badges.map(badge => (
                                        <span key={badge} style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                                  color: 'white', padding: '7px 16px', borderRadius: '18px',
                                                                  fontSize: '12px', fontWeight: '600' }}>
                                            {badge}
                                        </span>
                                    ))}
                                </div>
                            </div>

                            <div style={{ marginBottom: '24px' }}>
                                <h4 style={{ fontSize: '17px', fontWeight: '700', marginBottom: '12px' }}>√Ä propos</h4>
                                <p style={{ color: '#666', lineHeight: '1.7', fontSize: isMobile ? '14px' : '15px' }}>
                                    {selectedProp.bio}
                                </p>
                            </div>

                            <div style={{ marginBottom: '24px' }}>
                                <h4 style={{ fontSize: '17px', fontWeight: '700', marginBottom: '12px' }}>R√©seau d√©clar√©</h4>
                                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>
                                    {selectedProp.reseau.map(e => (
                                        <span key={e} style={{ background: '#f3f4f6', padding: '10px 16px',
                                                              borderRadius: '12px', fontSize: '14px', color: '#374151',
                                                              fontWeight: '600' }}>
                                            {e}
                                        </span>
                                    ))}
                                </div>
                            </div>

                            <div style={{ marginBottom: '24px' }}>
                                <h4 style={{ fontSize: '17px', fontWeight: '700', marginBottom: '16px' }}>Statistiques</h4>
                                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: isMobile ? '10px' : '16px' }}>
                                    {[
                                        { value: selectedProp.stats.intros, label: 'Intros' },
                                        { value: selectedProp.stats.tempsReponse, label: 'R√©ponse' },
                                        { value: selectedProp.stats.proBono + '%', label: 'Pro bono' }
                                    ].map((stat, idx) => (
                                        <div key={idx} style={{ textAlign: 'center', padding: isMobile ? '14px' : '18px',
                                                               background: '#f8f9ff', borderRadius: '14px', border: '1px solid #e0e7ff' }}>
                                            <div style={{ fontSize: isMobile ? '22px' : '28px', fontWeight: '800',
                                                        color: '#667eea', marginBottom: '4px' }}>
                                                {stat.value}
                                            </div>
                                            <div style={{ fontSize: '11px', color: '#666', fontWeight: '600' }}>
                                                {stat.label}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {selectedProp.references && selectedProp.references.length > 0 && (
                                <div style={{ marginBottom: '28px' }}>
                                    <h4 style={{ fontSize: '17px', fontWeight: '700', marginBottom: '16px' }}>
                                        R√©f√©rences ({selectedProp.references.length})
                                    </h4>
                                    {selectedProp.references.map((ref, idx) => (
                                        <div key={idx} style={{ background: '#f8f9ff', padding: isMobile ? '16px' : '20px',
                                                               borderRadius: '14px', marginBottom: '12px', border: '1px solid #e0e7ff' }}>
                                            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '12px',
                                                        flexWrap: 'wrap', gap: '8px' }}>
                                                <div>
                                                    <strong style={{ fontSize: isMobile ? '14px' : '15px' }}>{ref.auteur}</strong>
                                                    <div style={{ color: '#f59e0b', fontSize: '14px', marginTop: '4px' }}>
                                                        {'‚≠ê'.repeat(ref.note)}
                                                    </div>
                                                </div>
                                                <span style={{ color: '#999', fontSize: '12px' }}>{ref.date}</span>
                                            </div>
                                            <p style={{ color: '#555', fontSize: isMobile ? '13px' : '14px', lineHeight: '1.6',
                                                      marginBottom: '10px', fontStyle: 'italic' }}>
                                                "{ref.texte}"
                                            </p>
                                            <div style={{ background: '#e0e7ff', padding: '6px 14px', borderRadius: '10px',
                                                        display: 'inline-block', fontSize: '12px', color: '#667eea', fontWeight: '600' }}>
                                                {ref.contexte}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )}

                            <div style={{ display: 'grid', gridTemplateColumns: isMobile ? '1fr' : '1fr 2fr', gap: '12px' }}>
                                <button onClick={() => setShowProfilModal(false)}
                                        style={{ padding: '16px', background: 'white', color: '#667eea',
                                               border: '2px solid #667eea', borderRadius: '14px', fontSize: '16px',
                                               fontWeight: '600', minHeight: '52px' }}>
                                    ‚Üê Retour
                                </button>
                                <button onClick={() => {
                                            setShowProfilModal(false);
                                            setShowChat(true);
                                            setChatMessages([{
                                                from: 'system',
                                                text: 'Vous √™tes maintenant en contact avec ' + selectedProp.nom + ' (anonyme pour l\'instant)'
                                            }]);
                                        }}
                                        style={{ padding: '16px', background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                               color: 'white', border: 'none', borderRadius: '14px', fontSize: '16px',
                                               fontWeight: '600', minHeight: '52px' }}>
                                    üí¨ Discuter
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            // MODAL CHAT
            const ChatModal = () => {
                const messagesEndRef = useRef(null);

                useEffect(() => {
                    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
                }, [chatMessages]);

                if (!showChat) return null;

                const sendMessage = () => {
                    if (!newMessage.trim()) return;
                    setChatMessages([...chatMessages, { from: 'me', text: newMessage }]);
                    setNewMessage('');
                    setTimeout(() => {
                        setChatMessages(prev => [...prev, {
                            from: 'other',
                            text: "Je peux certainement vous aider ! J'ai un excellent contact chez Intel."
                        }]);
                    }, 1000);
                };

                const revealIdentity = () => {
                    setChatMessages(prev => [...prev, {
                        from: 'system',
                        text: 'Vous avez r√©v√©l√© votre identit√©. En attente de la r√©v√©lation de l\'autre personne...'
                    }]);
                    setTimeout(() => {
                        setIdentityRevealed(true);
                        setChatMessages(prev => [...prev, {
                            from: 'system',
                            text: '‚ú® Identit√©s r√©v√©l√©es ! Vous pouvez maintenant √©changer vos coordonn√©es.'
                        }, {
                            from: 'other',
                            text: 'Ravi de faire votre connaissance ! Voici mes coordonn√©es : ' + selectedProp.nom + ' - ' + selectedProp.nom.toLowerCase().replace(' ', '.') + '@email.com'
                        }]);
                    }, 2000);
                };

                return (
                    <div className="modal-backdrop" onClick={(e) => {
                        if (e.target === e.currentTarget) {
                            setShowChat(false);
                            setChatMessages([]);
                            setIdentityRevealed(false);
                            setNewMessage('');
                        }
                    }}>
                        <div style={{ background: 'white', borderRadius: isMobile ? '20px' : '28px',
                                    maxWidth: isMobile ? '95%' : '600px', width: '100%', height: isMobile ? '85vh' : '80vh',
                                    display: 'flex', flexDirection: 'column', overflow: 'hidden' }}
                             onClick={(e) => e.stopPropagation()} className="fade-in">
                            <div style={{ padding: isMobile ? '18px 20px' : '22px 28px', borderBottom: '1px solid #e5e7eb',
                                        display: 'flex', justifyContent: 'space-between', alignItems: 'center',
                                        background: 'linear-gradient(135deg, #f8f9ff 0%, white 100%)' }}>
                                <div>
                                    <h3 style={{ fontSize: isMobile ? '17px' : '19px', fontWeight: '700', marginBottom: '4px' }}>
                                        {identityRevealed ? selectedProp.nom : 'Professionnel Tech'}
                                    </h3>
                                    <p style={{ color: identityRevealed ? '#10b981' : '#667eea', fontSize: '13px', fontWeight: '600' }}>
                                        {identityRevealed ? '‚ú® Identit√© r√©v√©l√©e' : 'üîí Discussion anonyme'}
                                    </p>
                                </div>
                                <button onClick={() => {
                                            setShowChat(false);
                                            setChatMessages([]);
                                            setIdentityRevealed(false);
                                            setNewMessage('');
                                        }}
                                        style={{ background: '#f3f4f6', border: 'none', width: '36px', height: '36px',
                                               borderRadius: '50%', fontSize: '18px', display: 'flex',
                                               alignItems: 'center', justifyContent: 'center', color: '#666' }}>
                                    ‚úï
                                </button>
                            </div>

                            <div style={{ flex: 1, padding: isMobile ? '16px' : '20px', overflowY: 'auto',
                                        display: 'flex', flexDirection: 'column', gap: '14px', background: '#fafafa' }}>
                                {chatMessages.map((msg, idx) => (
                                    <div key={idx} style={{ alignSelf: msg.from === 'me' ? 'flex-end' : msg.from === 'system' ? 'center' : 'flex-start',
                                                           maxWidth: msg.from === 'system' ? '90%' : '75%' }}>
                                        {msg.from === 'system' ? (
                                            <div style={{ background: 'rgba(102, 126, 234, 0.1)', padding: '12px 18px',
                                                        borderRadius: '14px', fontSize: '13px', color: '#667eea',
                                                        textAlign: 'center', lineHeight: '1.5', fontWeight: '500',
                                                        border: '1px solid rgba(102, 126, 234, 0.2)' }}>
                                                {msg.text}
                                            </div>
                                        ) : (
                                            <div style={{ background: msg.from === 'me'
                                                            ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
                                                            : 'white',
                                                        color: msg.from === 'me' ? 'white' : '#333',
                                                        padding: '14px 18px', borderRadius: msg.from === 'me' ? '20px 20px 4px 20px' : '20px 20px 20px 4px',
                                                        fontSize: '15px', lineHeight: '1.5',
                                                        boxShadow: msg.from === 'me'
                                                            ? '0 4px 12px rgba(102, 126, 234, 0.3)'
                                                            : '0 2px 8px rgba(0,0,0,0.1)',
                                                        fontWeight: '500' }}>
                                                {msg.text}
                                            </div>
                                        )}
                                    </div>
                                ))}
                                <div ref={messagesEndRef} />
                            </div>

                            <div style={{ padding: isMobile ? '16px' : '20px', borderTop: '1px solid #e5e7eb', background: 'white' }}>
                                {!identityRevealed ? (
                                    <>
                                        <div style={{ display: 'flex', gap: '10px', marginBottom: '12px' }}>
                                            <input type="text" value={newMessage}
                                                   onChange={(e) => setNewMessage(e.target.value)}
                                                   onKeyPress={(e) => e.key === 'Enter' && sendMessage()}
                                                   placeholder="Votre message..."
                                                   style={{ flex: 1, padding: '14px 18px', borderRadius: '14px',
                                                          border: '2px solid #e5e7eb', fontSize: '15px', fontFamily: 'inherit' }} />
                                            <button onClick={sendMessage}
                                                    style={{ padding: '14px 24px', background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                           color: 'white', border: 'none', borderRadius: '14px',
                                                           fontWeight: '600', fontSize: '15px', minWidth: '80px' }}>
                                                Envoyer
                                            </button>
                                        </div>
                                        <button onClick={revealIdentity}
                                                style={{ width: '100%', padding: '14px', background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                                                       color: 'white', border: 'none', borderRadius: '14px', fontWeight: '600', fontSize: '15px' }}>
                                            ‚ú® R√©v√©ler mon identit√©
                                        </button>
                                    </>
                                ) : (
                                    <button onClick={() => setShowRatingModal(true)}
                                            style={{ width: '100%', padding: '16px', background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',
                                                   color: 'white', border: 'none', borderRadius: '14px', fontWeight: '600', fontSize: '16px' }}>
                                        ‚≠ê Terminer et noter l'√©change
                                    </button>
                                )}
                            </div>
                        </div>
                    </div>
                );
            };

            // MODAL NOTATION
            const RatingModal = () => {
                if (!showRatingModal) return null;

                const submitRating = () => {
                    if (rating === 0) {
                        alert('Veuillez s√©lectionner une note');
                        return;
                    }
                    alert(`Merci ! Votre avis a √©t√© enregistr√©.\n${selectedProp.nom} recevra une note de ${rating}/5 √©toiles.`);
                    setShowRatingModal(false);
                    setShowChat(false);
                    setRating(0);
                    setRatingComment('');
                    setPage('dashboard');
                };

                return (
                    <div className="modal-backdrop" onClick={(e) => {
                        if (e.target === e.currentTarget) setShowRatingModal(false);
                    }}>
                        <div style={{ background: 'white', borderRadius: isMobile ? '20px' : '28px',
                                    maxWidth: isMobile ? '95%' : '500px', width: '100%', padding: isMobile ? '32px 20px' : '40px',
                                    maxHeight: '90vh', overflow: 'auto' }}
                             onClick={(e) => e.stopPropagation()} className="fade-in">
                            <h2 style={{ fontSize: isMobile ? '22px' : '26px', marginBottom: '24px', fontWeight: '700', textAlign: 'center' }}>
                                Notez votre √©change
                            </h2>

                            <div style={{ textAlign: 'center', marginBottom: '28px' }}>
                                <div style={{ width: '80px', height: '80px', background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                           borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center',
                                           fontSize: '36px', margin: '0 auto 16px' }}>
                                    üë§
                                </div>
                                <h3 style={{ fontSize: '19px', fontWeight: '700', marginBottom: '4px' }}>
                                    {selectedProp?.nom}
                                </h3>
                                <p style={{ color: '#666', fontSize: '14px' }}>{selectedProp?.titre}</p>
                            </div>

                            <div style={{ marginBottom: '24px' }}>
                                <label style={{ display: 'block', marginBottom: '16px', fontWeight: '700',
                                              textAlign: 'center', fontSize: '15px' }}>
                                    Votre note *
                                </label>
                                <div style={{ display: 'flex', justifyContent: 'center', gap: '12px' }}>
                                    {[1, 2, 3, 4, 5].map(star => (
                                        <button key={star} onClick={() => setRating(star)}
                                                style={{ background: 'none', border: 'none', fontSize: isMobile ? '36px' : '44px',
                                                       color: star <= rating ? '#f59e0b' : '#e5e7eb', padding: '4px' }}>
                                            ‚≠ê
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <div style={{ marginBottom: '24px' }}>
                                <label style={{ display: 'block', marginBottom: '10px', fontWeight: '600', fontSize: '15px' }}>
                                    Votre avis (optionnel)
                                </label>
                                <textarea value={ratingComment} onChange={(e) => setRatingComment(e.target.value)}
                                         placeholder="Ex: Marc a tenu parole, super contact !"
                                         rows="4"
                                         style={{ width: '100%', padding: '14px', borderRadius: '14px',
                                                border: '2px solid #e5e7eb', fontSize: '15px', fontFamily: 'inherit' }} />
                            </div>

                            <div style={{ display: 'grid', gridTemplateColumns: isMobile ? '1fr' : '1fr 2fr', gap: '12px' }}>
                                <button onClick={() => setShowRatingModal(false)}
                                        style={{ padding: '16px', background: 'white', color: '#667eea',
                                               border: '2px solid #667eea', borderRadius: '14px', fontSize: '15px',
                                               fontWeight: '600', minHeight: '52px' }}>
                                    Passer
                                </button>
                                <button onClick={submitRating} disabled={rating === 0}
                                        style={{ padding: '16px', background: rating === 0 ? '#d1d5db' : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                               color: 'white', border: 'none', borderRadius: '14px', fontSize: '15px',
                                               fontWeight: '600', cursor: rating === 0 ? 'not-allowed' : 'pointer', minHeight: '52px' }}>
                                    Valider mon avis
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            return (
                <>
                    {page === 'home' && <HomePage />}
                    {page === 'signup' && <SignupPage />}
                    {page === 'dashboard' && <DashboardPage />}
                    {page === 'profil' && <ProfilePage />}
                    {page === 'poster' && <PosterBesoinPage />}
                    {page === 'voir' && <VoirBesoinsPage />}
                    <ProfilModal />
                    <ChatModal />
                    <RatingModal />
                </>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
