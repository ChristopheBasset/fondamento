<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#667eea">
    <title>FONDAMENTO - R√©seau Professionnel</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        button { min-height: 44px; cursor: pointer; }
        input, textarea { font-size: 16px; }
        
        .modal-backdrop {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.8); display: flex; align-items: center;
            justify-content: center; z-index: 1000; padding: 20px;
        }
        
        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: slideIn 0.3s ease-out; }
        
        @keyframes swipeLeft { to { transform: translateX(-150%) rotate(-15deg); opacity: 0; } }
        @keyframes swipeRight { to { transform: translateX(150%) rotate(15deg); opacity: 0; } }
        .swipe-left { animation: swipeLeft 0.3s ease-out forwards; }
        .swipe-right { animation: swipeRight 0.3s ease-out forwards; }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        // INITIALISATION SUPABASE
        const supabase = supabase.createClient(
            'https://yixuosrfwrxhttbhqelj.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpeHVvc3Jmd3J4aHR0YmhxZWxqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyMzE5NzIsImV4cCI6MjA4MzgwNzk3Mn0.S7tzB_hou3cSR0mVZlXgExz5BSwCcoIIyiAQJUgwwFo'
        );

        // CALCUL MOBILE
        const isMobile = window.innerWidth <= 768;
        
        // STYLES
        const getStyles = () => ({
            button: {
                width: '100%', 
                padding: isMobile ? '16px' : '18px',
                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                color: 'white', 
                border: 'none', 
                borderRadius: '15px',
                fontSize: isMobile ? '16px' : '18px', 
                fontWeight: '600'
            },
            buttonSuccess: {
                width: '100%', 
                padding: isMobile ? '16px' : '18px',
                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                color: 'white', 
                border: 'none', 
                borderRadius: '15px',
                fontSize: isMobile ? '16px' : '18px', 
                fontWeight: '600'
            },
            buttonOutline: {
                width: '100%', 
                padding: isMobile ? '16px' : '18px',
                background: 'white',
                color: '#667eea', 
                border: '2px solid #667eea', 
                borderRadius: '15px',
                fontSize: isMobile ? '16px' : '18px', 
                fontWeight: '600'
            },
            card: {
                background: 'rgba(255, 255, 255, 0.95)', 
                borderRadius: isMobile ? '20px' : '30px',
                padding: isMobile ? '24px 20px' : '40px',
                boxShadow: '0 20px 60px rgba(0,0,0,0.3)'
            },
            backButton: {
                padding: '12px 24px', 
                background: 'rgba(255,255,255,0.9)',
                color: '#667eea', 
                border: 'none', 
                borderRadius: '12px',
                marginBottom: '20px', 
                fontWeight: '600'
            },
            input: {
                width: '100%',
                padding: '14px 18px',
                borderRadius: '12px',
                border: '2px solid #e5e7eb',
                fontSize: '16px',
                fontFamily: 'inherit',
                marginBottom: '16px'
            }
        });

        const styles = getStyles();

        // COMPOSANT PRINCIPAL
        function App() {
            const [page, setPage] = useState('home');
            const [user, setUser] = useState(null);
            const [profile, setProfile] = useState(null);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState('');
            
            // Authentification
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [prenom, setPrenom] = useState('');
            const [nom, setNom] = useState('');
            
            // Besoins & Propositions
            const [besoinText, setBesoinText] = useState('');
            const [besoins, setBesoins] = useState([]);
            const [mesBesins, setMesBesoins] = useState([]);
            const [propositions, setPropositions] = useState([]);
            const [besoinIdx, setBesoinIdx] = useState(0);
            const [selectedBesoin, setSelectedBesoin] = useState(null);
            const [selectedProp, setSelectedProp] = useState(null);
            
            // UI States
            const [showProfilModal, setShowProfilModal] = useState(false);
            const [swipeClass, setSwipeClass] = useState('');

            // V√©rifier si utilisateur connect√© au chargement
            useEffect(() => {
                checkUser();
            }, []);

            const checkUser = async () => {
                try {
                    const { data: { session } } = await supabase.auth.getSession();
                    if (session?.user) {
                        setUser(session.user);
                        await loadProfile(session.user.id);
                    }
                } catch (err) {
                    console.error('Erreur session:', err);
                } finally {
                    setLoading(false);
                }
            };

            const loadProfile = async (userId) => {
                try {
                    const { data, error } = await supabase
                        .from('profiles')
                        .select('*')
                        .eq('id', userId)
                        .single();
                    
                    if (error) throw error;
                    setProfile(data);
                } catch (err) {
                    console.error('Erreur profil:', err);
                }
            };

            const loadBesoins = async () => {
                try {
                    const { data, error } = await supabase
                        .from('besoins')
                        .select(`
                            *,
                            profiles:user_id (prenom, nom, note_globale, nb_avis, secteur)
                        `)
                        .eq('statut', 'actif')
                        .order('created_at', { ascending: false });
                    
                    if (error) throw error;
                    setBesoins(data || []);
                } catch (err) {
                    console.error('Erreur besoins:', err);
                    setError('Impossible de charger les besoins');
                }
            };

            const handleSignup = async (e) => {
                e.preventDefault();
                setError('');
                setLoading(true);

                try {
                    // 1. Cr√©er le compte
                    const { data, error: signupError } = await supabase.auth.signUp({
                        email,
                        password,
                        options: {
                            data: { prenom, nom }
                        }
                    });

                    if (signupError) throw signupError;

                    // 2. Message de confirmation
                    alert('‚úÖ Compte cr√©√© ! V√©rifiez votre email pour confirmer votre compte.');
                    setPage('login');
                    
                } catch (err) {
                    setError(err.message || 'Erreur lors de l\'inscription');
                } finally {
                    setLoading(false);
                }
            };

            const handleLogin = async (e) => {
                e.preventDefault();
                setError('');
                setLoading(true);

                try {
                    const { data, error: loginError } = await supabase.auth.signInWithPassword({
                        email,
                        password
                    });

                    if (loginError) throw loginError;

                    setUser(data.user);
                    await loadProfile(data.user.id);
                    setPage('dashboard');
                    
                } catch (err) {
                    setError(err.message || 'Email ou mot de passe incorrect');
                } finally {
                    setLoading(false);
                }
            };

            const handleLogout = async () => {
                await supabase.auth.signOut();
                setUser(null);
                setProfile(null);
                setPage('home');
            };

            const handlePosterBesoin = async () => {
                if (!besoinText.trim()) return;
                setLoading(true);

                try {
                    const { data, error } = await supabase
                        .from('besoins')
                        .insert({
                            user_id: user.id,
                            texte: besoinText,
                            secteur: profile?.secteur || '',
                            statut: 'actif'
                        })
                        .select()
                        .single();

                    if (error) throw error;

                    alert('‚úÖ Besoin publi√© ! Vous recevrez des propositions par email.');
                    setBesoinText('');
                    setPage('dashboard');
                    
                } catch (err) {
                    setError('Erreur lors de la publication');
                    console.error(err);
                } finally {
                    setLoading(false);
                }
            };

            const handleProposer = async (besoinId) => {
                setLoading(true);

                try {
                    const { error } = await supabase
                        .from('propositions')
                        .insert({
                            besoin_id: besoinId,
                            aidant_id: user.id,
                            statut: 'en_attente'
                        });

                    if (error) throw error;

                    alert('‚úÖ Proposition envoy√©e ! Le demandeur sera notifi√© par email.');
                    
                    // Passer au besoin suivant
                    if (besoinIdx < besoins.length - 1) {
                        setBesoinIdx(besoinIdx + 1);
                    } else {
                        alert('Vous avez vu tous les besoins disponibles !');
                        setPage('dashboard');
                        setBesoinIdx(0);
                    }
                } catch (err) {
                    setError('Erreur lors de la proposition');
                    console.error(err);
                } finally {
                    setLoading(false);
                }
            };

            // LOADING INITIAL
            if (loading && !user) {
                return (
                    <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', 
                                 justifyContent: 'center' }}>
                        <div className="spinner"></div>
                    </div>
                );
            }

            // HOME PAGE
            if (page === 'home') {
                return (
                    <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', 
                                 justifyContent: 'center', padding: '20px' }} className="fade-in">
                        <div style={{ ...styles.card, maxWidth: '500px', width: '100%', textAlign: 'center' }}>
                            <h1 style={{ fontSize: isMobile ? '36px' : '48px',
                                       background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                       WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent',
                                       fontWeight: '800', marginBottom: '16px' }}>
                                FONDAMENTO
                            </h1>
                            <p style={{ color: '#666', fontSize: isMobile ? '16px' : '18px', 
                                       marginBottom: '40px', lineHeight: '1.6' }}>
                                Le r√©seau professionnel<br/>qui va √† l'essentiel
                            </p>
                            <button onClick={() => setPage('signup')} 
                                    style={{ ...styles.button, marginBottom: '16px' }}>
                                ‚ú® Cr√©er mon compte
                            </button>
                            <button onClick={() => setPage('login')}
                                    style={styles.buttonOutline}>
                                Se connecter
                            </button>
                            <div style={{ marginTop: '40px', padding: '20px', background: '#f8f9ff', 
                                        borderRadius: '15px', fontSize: '14px', lineHeight: '1.8', color: '#555' }}>
                                üéØ Matching intelligent<br/>
                                üí¨ √âchanges facilit√©s<br/>
                                ‚≠ê R√©putation transparente
                            </div>
                        </div>
                    </div>
                );
            }

            // SIGNUP PAGE
            if (page === 'signup') {
                return (
                    <div style={{ minHeight: '100vh', padding: '20px' }} className="fade-in">
                        <div style={{ maxWidth: '500px', margin: '0 auto' }}>
                            <button onClick={() => setPage('home')} style={styles.backButton}>
                                ‚Üê Retour
                            </button>
                            <div style={styles.card}>
                                <h2 style={{ fontSize: isMobile ? '24px' : '32px', marginBottom: '24px', 
                                           fontWeight: '700', textAlign: 'center' }}>
                                    Cr√©er mon compte
                                </h2>
                                
                                {error && (
                                    <div style={{ padding: '12px', background: '#fee', borderRadius: '8px',
                                                color: '#c00', marginBottom: '20px', fontSize: '14px' }}>
                                        {error}
                                    </div>
                                )}

                                <form onSubmit={handleSignup}>
                                    <input type="text" placeholder="Pr√©nom *" value={prenom}
                                           onChange={(e) => setPrenom(e.target.value)}
                                           style={styles.input} required />
                                    
                                    <input type="text" placeholder="Nom *" value={nom}
                                           onChange={(e) => setNom(e.target.value)}
                                           style={styles.input} required />
                                    
                                    <input type="email" placeholder="Email *" value={email}
                                           onChange={(e) => setEmail(e.target.value)}
                                           style={styles.input} required />
                                    
                                    <input type="password" placeholder="Mot de passe (min. 6 caract√®res) *" 
                                           value={password}
                                           onChange={(e) => setPassword(e.target.value)}
                                           style={styles.input} minLength="6" required />
                                    
                                    <button type="submit" style={styles.button} disabled={loading}>
                                        {loading ? 'Cr√©ation...' : 'Cr√©er mon compte'}
                                    </button>
                                </form>

                                <p style={{ marginTop: '20px', textAlign: 'center', color: '#666', fontSize: '14px' }}>
                                    D√©j√† un compte ?{' '}
                                    <span onClick={() => setPage('login')}
                                          style={{ color: '#667eea', cursor: 'pointer', fontWeight: '600' }}>
                                        Se connecter
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                );
            }

            // LOGIN PAGE
            if (page === 'login') {
                return (
                    <div style={{ minHeight: '100vh', padding: '20px' }} className="fade-in">
                        <div style={{ maxWidth: '500px', margin: '0 auto' }}>
                            <button onClick={() => setPage('home')} style={styles.backButton}>
                                ‚Üê Retour
                            </button>
                            <div style={styles.card}>
                                <h2 style={{ fontSize: isMobile ? '24px' : '32px', marginBottom: '24px', 
                                           fontWeight: '700', textAlign: 'center' }}>
                                    Connexion
                                </h2>
                                
                                {error && (
                                    <div style={{ padding: '12px', background: '#fee', borderRadius: '8px',
                                                color: '#c00', marginBottom: '20px', fontSize: '14px' }}>
                                        {error}
                                    </div>
                                )}

                                <form onSubmit={handleLogin}>
                                    <input type="email" placeholder="Email" value={email}
                                           onChange={(e) => setEmail(e.target.value)}
                                           style={styles.input} required />
                                    
                                    <input type="password" placeholder="Mot de passe" value={password}
                                           onChange={(e) => setPassword(e.target.value)}
                                           style={styles.input} required />
                                    
                                    <button type="submit" style={styles.button} disabled={loading}>
                                        {loading ? 'Connexion...' : 'Se connecter'}
                                    </button>
                                </form>

                                <p style={{ marginTop: '20px', textAlign: 'center', color: '#666', fontSize: '14px' }}>
                                    Pas encore de compte ?{' '}
                                    <span onClick={() => setPage('signup')}
                                          style={{ color: '#667eea', cursor: 'pointer', fontWeight: '600' }}>
                                        S'inscrire
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                );
            }

            // DASHBOARD (n√©cessite connexion)
            if (!user) {
                setPage('home');
                return null;
            }

            if (page === 'dashboard' && user && profile) {
                return (
                    <div style={{ minHeight: '100vh', padding: isMobile ? '16px' : '24px' }} className="fade-in">
                        <div style={{ maxWidth: '1200px', margin: '0 auto' }}>
                            <div style={{ ...styles.card, marginBottom: '20px' }}>
                                <div style={{ marginBottom: '20px' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', 
                                                alignItems: 'center', marginBottom: '16px', flexWrap: 'wrap', gap: '12px' }}>
                                        <h1 style={{ fontSize: isMobile ? '24px' : '32px',
                                                   background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                   WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent',
                                                   fontWeight: '800' }}>
                                            FONDAMENTO
                                        </h1>
                                        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>
                                            <button onClick={handleLogout}
                                                    style={{ padding: isMobile ? '8px 16px' : '10px 20px', 
                                                           background: 'white', 
                                                           color: '#667eea', border: '2px solid #667eea',
                                                           borderRadius: '12px', fontWeight: '600',
                                                           fontSize: isMobile ? '14px' : '15px',
                                                           whiteSpace: 'nowrap' }}>
                                                D√©connexion
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <h2 style={{ fontSize: isMobile ? '20px' : '28px', marginBottom: '12px', fontWeight: '700' }}>
                                    Bonjour {profile.prenom} ! üëã
                                </h2>
                                
                                <div style={{ marginBottom: '24px' }}>
                                    <span style={{ background: '#fef3c7', padding: '6px 14px', 
                                                 borderRadius: '20px', fontSize: '14px', 
                                                 fontWeight: '700', color: '#92400e' }}>
                                        ‚≠ê {profile.note_globale || 0}/5 ({profile.nb_avis || 0} avis)
                                    </span>
                                </div>

                                <div style={{ display: 'grid', gap: '15px', 
                                            gridTemplateColumns: isMobile ? '1fr' : 'repeat(2, 1fr)' }}>
                                    <button onClick={() => setPage('poster')} style={styles.button}>
                                        üéØ Poster un besoin
                                    </button>
                                    <button onClick={() => { loadBesoins(); setPage('voir'); }} 
                                            style={styles.buttonSuccess}>
                                        üí™ Aider quelqu'un
                                    </button>
                                </div>
                            </div>
                            
                            <div style={styles.card}>
                                <h3 style={{ fontSize: isMobile ? '20px' : '24px', marginBottom: '20px', fontWeight: '700' }}>
                                    üìä Mon activit√©
                                </h3>
                                <div style={{ display: 'grid', gap: '15px', 
                                            gridTemplateColumns: isMobile ? '1fr' : 'repeat(2, 1fr)' }}>
                                    <div style={{ background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                                               padding: '24px', borderRadius: '16px', color: 'white' }}>
                                        <div style={{ fontSize: '14px', marginBottom: '8px', opacity: 0.9 }}>Comme aidant</div>
                                        <div style={{ fontSize: '36px', fontWeight: '800', marginBottom: '8px' }}>
                                            {profile.intros_reussies || 0}
                                        </div>
                                        <div style={{ fontSize: '14px', opacity: 0.9 }}>intros r√©ussies</div>
                                    </div>
                                    <div style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                               padding: '24px', borderRadius: '16px', color: 'white' }}>
                                        <div style={{ fontSize: '14px', marginBottom: '8px', opacity: 0.9 }}>Comme demandeur</div>
                                        <div style={{ fontSize: '36px', fontWeight: '800', marginBottom: '8px' }}>
                                            {profile.echanges_reussis || 0}
                                        </div>
                                        <div style={{ fontSize: '14px', opacity: 0.9 }}>√©changes r√©ussis</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // PAGE POSTER BESOIN
            if (page === 'poster') {
                return (
                    <div style={{ minHeight: '100vh', padding: '20px' }} className="fade-in">
                        <div style={{ maxWidth: '800px', margin: '0 auto' }}>
                            <button onClick={() => setPage('dashboard')} style={styles.backButton}>
                                ‚Üê Retour au dashboard
                            </button>
                            
                            <div style={styles.card}>
                                <h2 style={{ fontSize: isMobile ? '24px' : '32px', marginBottom: '16px', fontWeight: '700' }}>
                                    üéØ Poster un besoin
                                </h2>
                                <p style={{ color: '#666', marginBottom: '24px', lineHeight: '1.6' }}>
                                    D√©crivez clairement votre besoin. Les personnes qui peuvent vous aider 
                                    seront notifi√©es automatiquement.
                                </p>

                                {error && (
                                    <div style={{ padding: '12px', background: '#fee', borderRadius: '8px',
                                                color: '#c00', marginBottom: '20px', fontSize: '14px' }}>
                                        {error}
                                    </div>
                                )}

                                <textarea
                                    value={besoinText}
                                    onChange={(e) => setBesoinText(e.target.value)}
                                    placeholder="Ex: Je cherche un contact chez Intel pour une opportunit√© B2B dans le domaine de l'IA..."
                                    rows={isMobile ? "5" : "6"}
                                    style={{ width: '100%', padding: '16px', borderRadius: '14px',
                                           border: '2px solid #e5e7eb', fontSize: '16px',
                                           fontFamily: 'inherit', marginBottom: '20px', minHeight: '120px' }}
                                />
                                <button onClick={handlePosterBesoin} 
                                        disabled={!besoinText.trim() || loading}
                                        style={{ ...styles.button, 
                                               opacity: besoinText.trim() && !loading ? 1 : 0.5,
                                               cursor: besoinText.trim() && !loading ? 'pointer' : 'not-allowed' }}>
                                    {loading ? 'Publication...' : 'Publier mon besoin'}
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // PAGE VOIR BESOINS
            if (page === 'voir') {
                if (besoins.length === 0) {
                    return (
                        <div style={{ minHeight: '100vh', padding: '20px' }} className="fade-in">
                            <div style={{ maxWidth: '600px', margin: '0 auto' }}>
                                <button onClick={() => setPage('dashboard')} style={styles.backButton}>
                                    ‚Üê Retour au dashboard
                                </button>
                                <div style={{ ...styles.card, textAlign: 'center' }}>
                                    <div style={{ fontSize: '64px', marginBottom: '20px' }}>üéØ</div>
                                    <h2 style={{ fontSize: '24px', marginBottom: '16px' }}>
                                        Aucun besoin disponible
                                    </h2>
                                    <p style={{ color: '#666' }}>
                                        Revenez plus tard ou postez votre propre besoin !
                                    </p>
                                </div>
                            </div>
                        </div>
                    );
                }

                const besoin = besoins[besoinIdx];
                
                const handleSwipe = (direction) => {
                    if (direction === 'right') {
                        handleProposer(besoin.id);
                    } else {
                        if (besoinIdx < besoins.length - 1) {
                            setBesoinIdx(besoinIdx + 1);
                        } else {
                            alert('Vous avez vu tous les besoins !');
                            setPage('dashboard');
                            setBesoinIdx(0);
                        }
                    }
                };

                return (
                    <div style={{ minHeight: '100vh', padding: '20px' }} className="fade-in">
                        <div style={{ maxWidth: '600px', margin: '0 auto' }}>
                            <button onClick={() => { setPage('dashboard'); setBesoinIdx(0); }}
                                    style={styles.backButton}>
                                ‚Üê Retour au dashboard
                            </button>
                            
                            <div className={swipeClass} style={{ ...styles.card, minHeight: isMobile ? '500px' : '550px',
                                                                 display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>
                                <div>
                                    <div style={{ textAlign: 'center', marginBottom: '28px' }}>
                                        <div style={{ fontSize: isMobile ? '56px' : '72px', marginBottom: '16px' }}>üë§</div>
                                        <h3 style={{ fontSize: isMobile ? '22px' : '26px', marginBottom: '12px', fontWeight: '700' }}>
                                            {besoin.profiles?.prenom} {besoin.profiles?.nom?.[0]}.
                                        </h3>
                                        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', 
                                                    gap: '12px', flexWrap: 'wrap' }}>
                                            <span style={{ background: '#fef3c7', padding: '8px 16px', borderRadius: '24px',
                                                         fontSize: '14px', fontWeight: '700', color: '#92400e' }}>
                                                ‚≠ê {besoin.profiles?.note_globale || 0}/5
                                            </span>
                                            <span style={{ background: '#e0e7ff', padding: '8px 16px', borderRadius: '24px',
                                                         fontSize: '14px', fontWeight: '700', color: '#3730a3' }}>
                                                {besoin.profiles?.secteur || 'Secteur'}
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <div style={{ background: 'linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%)',
                                               padding: isMobile ? '20px' : '24px', borderRadius: '16px', marginBottom: '28px',
                                               border: '1px solid rgba(102, 126, 234, 0.1)' }}>
                                        <h4 style={{ color: '#667eea', marginBottom: '12px', fontWeight: '700', fontSize: '15px' }}>
                                            Son besoin :
                                        </h4>
                                        <p style={{ fontSize: '16px', lineHeight: '1.7', fontWeight: '500' }}>
                                            {besoin.texte}
                                        </p>
                                    </div>
                                </div>

                                <div>
                                    <div style={{ display: 'flex', gap: isMobile ? '12px' : '20px', justifyContent: 'center',
                                                marginBottom: '20px' }}>
                                        <button onClick={() => handleSwipe('left')}
                                                style={{ width: isMobile ? '70px' : '90px', height: isMobile ? '70px' : '90px',
                                                       background: 'white', border: '4px solid #ef4444', borderRadius: '50%',
                                                       fontSize: isMobile ? '28px' : '36px', boxShadow: '0 8px 20px rgba(239, 68, 68, 0.3)' }}>
                                            ‚úó
                                        </button>
                                        <button onClick={() => handleSwipe('right')}
                                                style={{ width: isMobile ? '70px' : '90px', height: isMobile ? '70px' : '90px',
                                                       background: 'white', border: '4px solid #10b981', borderRadius: '50%',
                                                       fontSize: isMobile ? '28px' : '36px', boxShadow: '0 8px 20px rgba(16, 185, 129, 0.3)' }}>
                                            ‚úì
                                        </button>
                                    </div>
                                    <p style={{ textAlign: 'center', color: '#666', fontSize: '14px', fontWeight: '600' }}>
                                        {besoinIdx + 1} / {besoins.length}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            return <div>Page inconnue</div>;
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
